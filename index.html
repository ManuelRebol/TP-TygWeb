<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Trabajo Practico Individual</title>

    <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css">

    <script>
        $(document).ready(function () {
            const frases = [
                { text: "“No sé con qué armas se peleará la tercera guerra mundial, pero la cuarta será con palos y piedras” - Albert Einstein", class: "sombra1" },
                { text: "“Un hombre provisto de papel, lápiz y goma, y con sujeción a una disciplina estricta, es, en efecto, una Máquina de Turing universal” - Alan Turing", class: "sombra2" },
                { text: "“A partir de entonces, cuando algo iba mal con un ordenador, nos decían que tenía bichos (bugs)” - Grace Murray Hopper", class: "sombra3" }
            ];


            const fraseAleatoria = frases[Math.floor(Math.random() * frases.length)];
            $('#frase').text(fraseAleatoria.text).addClass(fraseAleatoria.class);

            $('aside a').click(function (e) {
                e.preventDefault();
                const api = $(this).data('api');
                map(api);
            });

            function perroAleatorio(api) {
                $.ajax({
                    url: 'https://random.dog/woof.json',
                    method: 'GET',
                    dataType: 'json',
                    success: function (data) {
                        const contenido = $('#contenido');
                        contenido.empty(); //vacía el contenido del div
                        if (data.url.endsWith('.mp4') || data.url.endsWith('.webm')) {
                            //Es un video
                            contenido.append(`<video controls>
                                                  <source src="${data.url}" type="video/mp4">
                                               </video>`);
                        } else {
                            //Es una imagen o gif
                            contenido.append(`<img src="${data.url}" alt="Contenido Aleatorio de Perros">`);
                        }
                    },
                    error: function (req, status, err) {
                        console.log(req, status, err);
                        $('main').text('Error al cargar la API.');
                    }
                });
            }

            function map(api) {


                var map = L.map('map').setView([-34.904194079571205, -57.925844888358476], 16);
                L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
                }).addTo(map);

                $.ajax({
                    url: 'https://cartes.io/api/maps/dac15bc7-ad85-4609-8c91-f366568a842a/markers',
                    method: 'GET',
                    dataType: 'json',
                    accept: application / json,
                    success: function (data) {
                        data.markers.forEach(function (marker) {
                            L.marker([marker.latitude, marker.longitude])
                            .addTo(map)
                            .bindPopup(marker.description);
                        });

                        console.log(data);
                    },
                    error: function (req, status, err) {
                        console.log(req, status, err);
                        $('main').text('Error al cargar la API.');
                    }
                });
            }
        });
    </script>

    <!-- 
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBDaeWicvigtP9xPv919E-RNoxfvC-Hqik&callback=iniciarMap">
    </script>
    <script>
        // Esta función se llama cuando la API de Google Maps se ha cargado
        function iniciarMap() {
            // Definir las coordenadas y el nivel de zoom
            var coord = { lat: -34.904194079571205, lng: -57.925844888358476 };
            var zoom = 10;

            // Crear el mapa centrado en las coordenadas especificadas
            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: zoom,
                center: coord
            });

            // Añadir un marcador en las mismas coordenadas
            var marker = new google.maps.Marker({
                position: coord,
                map: map
            });
        }

        $(document).ready(function () {
            // Esperar a que el DOM esté listo antes de inicializar el mapa
            iniciarMap();
        });
    </script>
    <style>
        #map {
            height: 100%;
            width: 100%;
        }
    </style>
     -->



</head>

<body id="container">
    <header>
        <img class="logo" src="./logo.png" alt="prueba">
        <div class="titulo">
            <h1>
                Trabajo Práctico N° 1
            </h1>
            <h2>
                Manuel Rebol
            </h2>
        </div>


    </header>
    <main>
        <aside>
            <a href="#">Api 1</a>
            <a href="#">Api 2</a>
        </aside>
        <section>
            <div id="frase">
            </div>
            <div id="map">
            </div>
            <!-- <div id="map"></div> -->
        </section>
    </main>
    <footer>
        TygWeb 2024
    </footer>
</body>

</html>